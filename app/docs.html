<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="Docutils 0.13.1: http://docutils.sourceforge.net/" />
<title>deSEC DNS API Documentation</title>
<style type="text/css">

/* Minimal style sheet for the HTML output of Docutils.                    */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: minimal.css 7952 2016-07-26 18:15:59Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */

/* This CSS2.1_ stylesheet defines rules for Docutils elements without    */
/* HTML equivalent. It is required to make the document semantic visible. */
/*                                                                        */
/* .. _CSS2.1: http://www.w3.org/TR/CSS2                                  */
/* .. _validates: http://jigsaw.w3.org/css-validator/validator$link       */

/* alignment of text and inline objects inside block objects*/
.align-left   { text-align: left; }
.align-right  { text-align: right; }
.align-center { clear: both; text-align: center; }
.align-top    { vertical-align: top; }
.align-middle { vertical-align: middle; }
.align-bottom { vertical-align: bottom; }

/* titles */
h1.title, p.subtitle {
  text-align: center;
}
p.admonition-title,
p.topic-title,
p.sidebar-title,
p.rubric,
p.system-message-title {
  font-weight: bold;
}
h1 + p.subtitle,
h1 + p.section-subtitle {
  font-size: 1.6em;
}
h2 + p.section-subtitle { font-size: 1.28em; }
p.subtitle,
p.section-subtitle,
p.sidebar-subtitle {
  font-weight: bold;
  margin-top: -0.5em;
}
p.sidebar-title,
p.rubric {
  font-size: larger;
}
p.rubric { color: maroon; }
a.toc-backref {
  color: black;
  text-decoration: none; }

/* Warnings, Errors */
div.caution p.admonition-title,
div.attention p.admonition-title,
div.danger p.admonition-title,
div.error p.admonition-title,
div.warning p.admonition-title,
div.system-messages h1,
div.error,
span.problematic,
p.system-message-title {
  color: red;
}

/* inline literals */
span.docutils.literal {
  font-family: monospace;
  white-space: pre-wrap;
}
/* do not wraph at hyphens and similar: */
.literal > span.pre { white-space: nowrap; }

/* Lists */

/* compact and simple lists: no margin between items */
.simple  li, .compact li,
.simple  ul, .compact ul,
.simple  ol, .compact ol,
.simple > li p, .compact > li p,
dl.simple > dd, dl.compact > dd {
  margin-top: 0;
  margin-bottom: 0;
}

/* Table of Contents */
div.topic.contents { margin: 0; }
ul.auto-toc {
  list-style-type: none;
  padding-left: 1.5em; }

/* Enumerated Lists */
ol.arabic     { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }

dt span.classifier { font-style: italic }
dt span.classifier:before {
  font-style: normal;
  margin: 0.5em;
  content: ":";
}

/* Field Lists and drivatives */
/* bold field name, content starts on the same line */
dl.field-list > dt,
dl.option-list > dt,
dl.docinfo > dt,
dl.footnote > dt,
dl.citation > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}
/* Offset for field content (corresponds to the --field-name-limit option) */
dl.field-list > dd,
dl.option-list > dd,
dl.docinfo > dd {
  margin-left:  9em; /* ca. 14 chars in the test examples */
}
/* start field-body on a new line after long field names */
dl.field-list > dd > *:first-child,
dl.option-list > dd > *:first-child
{
  display: inline-block;
  width: 100%;
  margin: 0;
}
/* field names followed by a colon */
dl.field-list > dt:after,
dl.docinfo > dt:after {
  content: ":";
}

/* Bibliographic Fields (docinfo) */
pre.address { font: inherit; }
dd.authors > p { margin: 0; }

/* Option Lists */
dl.option-list { margin-left: 40px; }
dl.option-list > dt { font-weight: normal; }
span.option { white-space: nowrap; }

/* Footnotes and Citations  */
dl.footnote.superscript > dd {margin-left: 1em; }
dl.footnote.brackets > dd {margin-left: 2em; }
dl > dt.label { font-weight: normal; }
a.footnote-reference.brackets:before,
dt.label > span.brackets:before { content: "["; }
a.footnote-reference.brackets:after,
dt.label > span.brackets:after { content: "]"; }
a.footnote-reference.superscript,
dl.footnote.superscript > dt.label {
  vertical-align: super;
  font-size: smaller;
}
dt.label > span.fn-backref { margin-left: 0.2em; }
dt.label > span.fn-backref > a { font-style: italic; }

/* Line Blocks */
div.line-block { display: block; }
div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 40px;
}

/* Figures, Images, and Tables */
.figure.align-left,
img.align-left,
object.align-left,
table.align-left {
  margin-right: auto;
}
.figure.align-center,
img.align-center,
object.align-center {
  margin-left: auto;
  margin-right: auto;
  display: block;
}
table.align-center {
  margin-left: auto;
  margin-right: auto;
}
.figure.align-right,
img.align-right,
object.align-right,
table.align-right {
  margin-left: auto;
}
/* reset inner alignment in figures and tables */
div.align-left, div.align-center, div.align-right,
table.align-left, table.align-center, table.align-right
{ text-align: inherit }

/* Admonitions and System Messages */
div.admonition,
div.system-message,
div.sidebar{
  margin: 40px;
  border: medium outset;
  padding-right: 1em;
  padding-left: 1em;
}

/* Sidebar */
div.sidebar {
  width: 30%;
  max-width: 26em;
  float: right;
  clear: right;
}

/* Text Blocks */
div.topic,
pre.literal-block,
pre.doctest-block,
pre.math,
pre.code {
  margin-right: 40px;
  margin-left: 40px;
}
pre.code .ln { color: gray; } /* line numbers */

/* Tables */
table { border-collapse: collapse; }
td, th {
  border-style: solid;
  border-color: silver;
  padding: 0 1ex;
  border-width: thin;
}
td > p:first-child, th > p:first-child { margin-top: 0; }
td > p, th > p { margin-bottom: 0; }

table > caption {
  text-align: left;
  margin-bottom: 0.25em
}

table.borderless td, table.borderless th {
  border: 0;
  padding: 0;
  padding-right: 0.5em /* separate table cells */
}

</style>
<style type="text/css">

/* CSS31_ style sheet for the output of Docutils HTML writers.             */
/* Rules for easy reading and pre-defined style variants.		   */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: plain.css 7952 2016-07-26 18:15:59Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*    	     	      	     	 					   */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */
/* .. _CSS3: http://www.w3.org/TR/CSS3		        		   */


/* Document Structure */
/* ****************** */

/* "page layout" */
body {
  padding: 0 5%;
  margin: 8px 0;
}
div.document {
  line-height:1.3;
  counter-reset: table;
  /* counter-reset: figure; */
  /* avoid long lines --> better reading */
  /* OTOH: lines should not be too short because of missing hyphenation, */
  max-width: 50em;
  margin: auto;
}

/* Sections */

/* Transitions */

hr.docutils {
  width: 80%;
  margin-top: 1em;
  margin-bottom: 1em;
  clear: both;
}

/* Paragraphs               */
/* ==========               */

/* vertical space (parskip) */
p, ol, ul, dl,
div.line-block,
table{
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}
h1, h2, h3, h4, h5, h6,
dl > dd {
  margin-bottom: 0.5em;
}

/* Lists                    */
/* ==========               */

/* Definition Lists         */

dl > dd p:first-child { margin-top: 0; }
/* :last-child is not part of CSS 2.1 (introduced in CSS 3) */
/* dl > dd p:last-child  { margin-bottom: 0; } */

/* lists nested in definition lists */
/* :only-child is not part of CSS 2.1 (introduced in CSS 3) */
dd > ul:only-child, dd > ol:only-child { padding-left: 1em; }

/* Description Lists */
/* styled like in most dictionaries, encyclopedias etc. */
dl.description > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}

/* Field Lists */

/* example for custom field-name width */
dl.field-list.narrow > dd {
  margin-left: 5em;
}
/* run-in: start field-body on same line after long field names */
dl.field-list.run-in > dd p {
  display: block;
}

/* Bibliographic Fields */

/* generally, bibliographic fields use special definition list dl.docinfo */
/* but dedication and abstract are placed into "topic" divs */
div.abstract p.topic-title {
  text-align: center;
}
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic;
}
div.dedication p.topic-title {
  font-style: normal;
}

/* Citations */
dl.citation dt.label {
  font-weight: bold;
}
span.fn-backref {
  font-weight: normal;
}

/* Text Blocks           */
/* ============          */

/* Literal Blocks           */
pre.literal-block, pre.doctest-block,
pre.math, pre.code {
  margin-left: 1.5em;
  margin-right: 1.5em
}

/* Block Quotes             */

blockquote,
div.topic {
  margin-left: 1.5em;
  margin-right: 1.5em
}
blockquote > table,
div.topic > table {
  margin-top: 0;
  margin-bottom: 0;
}
blockquote p.attribution,
div.topic p.attribution {
  text-align: right;
  margin-left: 20%;
}

/* Tables                   */
/* ======                   */

/* th { vertical-align: bottom; } */

table tr { text-align: left; }

/* "booktabs" style (no vertical lines) */
table.booktabs {
  border: 0;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.booktabs * {
  border: 0;
}
table.booktabs th {
  border-bottom: thin solid;
}

/* numbered tables (counter defined in div.document) */
table.numbered > caption:before {
  counter-increment: table;
  content: "Table " counter(table) ": ";
  font-weight: bold;
}

/* Explicit Markup Blocks   */
/* ======================   */

/* Footnotes and Citations  */
/* -----------------------  */

/* line on the left */
dl.footnote {
  padding-left: 1ex;
  border-left: solid;
  border-left-width: thin;
}

/* Directives               */
/* ----------               */

/* Body Elements            */
/* ~~~~~~~~~~~~~            */

/* Images and Figures */

/* let content flow to the side of aligned images and figures */
.figure.align-left,
img.align-left,
object.align-left {
  display: block;
  clear: left;
  float: left;
  margin-right: 1em
}
.figure.align-right,
img.align-right,
object.align-right {
  display: block;
  clear: right;
  float: right;
  margin-left: 1em
}
/* Stop floating sidebars, images and figures at section level 1,2,3 */
h1, h2, h3 { clear: both; }

/* Sidebar */

/* Move into the margin. In a layout with fixed margins, */
/* it can be moved into the margin completely.		 */
div.sidebar {
  width: 30%;
  max-width: 26em;
  margin-left: 1em;
  margin-right: -5.5%;
  background-color: #ffffee ;
}

/* Code                     */

pre.code, code { background-color: #eeeeee }
pre.code .ln { color: gray; } /* line numbers */
/* basic highlighting: for a complete scheme, see */
/* http://docutils.sourceforge.net/sandbox/stylesheets/ */
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

/* Math                     */
/* styled separately (see math.css for math-output=HTML) */

/* Epigraph                 */
/* Highlights               */
/* Pull-Quote               */
/* Compound Paragraph       */
/* Container                */

/* can be styled in a custom stylesheet */

/* Document Header and Footer */

div.footer, div.header {
  clear: both;
  font-size: smaller;
}

/* Inline Markup            */
/* =============            */

/* Emphasis                 */
/*   em                     */
/* Strong Emphasis          */
/*   strong		    */
/* Interpreted Text         */
/*   span.interpreted  	    */
/* Title Reference 	    */
/*   cite		    */
/* Inline Literals          */
/* possible values: normal, nowrap, pre, pre-wrap, pre-line */
/*   span.docutils.literal { white-space: pre-wrap; } */

/* Hyperlink References     */
a { text-decoration: none; }

/* External Targets         */
/*   span.target.external   */
/* Internal Targets  	    */
/*   span.target.internal   */
/* Footnote References      */
/*   a.footnote-reference   */
/* Citation References      */
/*   a.citation-reference   */

</style>
<style type="text/css">

body {
    background: #eee;
    font-family: sans-serif;
}

:not(.field-list) > dt {
    font-weight: bold;
}

.literal, .literal-block {
    background: #fff;
    border: 1px solid #ddd;
}

td {
    vertical-align: top;
}
</style>
</head>
<body>
<div class="document" id="desec-dns-api-documentation">
<h1 class="title">deSEC DNS API Documentation</h1>

<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id2">Introduction</a></p></li>
<li><p><a class="reference internal" href="#user-registration-and-management" id="id3">User Registration and Management</a></p></li>
<li><p><a class="reference internal" href="#domain-management" id="id4">Domain Management</a></p>
<ul>
<li><p><a class="reference internal" href="#domain-field-reference" id="id5">Domain Field Reference</a></p></li>
<li><p><a class="reference internal" href="#creating-a-domain" id="id6">Creating a Domain</a></p></li>
<li><p><a class="reference internal" href="#listing-domains" id="id7">Listing Domains</a></p></li>
<li><p><a class="reference internal" href="#retrieving-a-specific-domain" id="id8">Retrieving a Specific Domain</a></p></li>
<li><p><a class="reference internal" href="#modifying-a-domain-deprecated" id="id9">Modifying a Domain (deprecated)</a></p></li>
<li><p><a class="reference internal" href="#deleting-a-domain" id="id10">Deleting a Domain</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#retrieving-and-manipulating-dns-information" id="id11">Retrieving and Manipulating DNS Information</a></p>
<ul>
<li><p><a class="reference internal" href="#rrset-field-reference" id="id12">RRset Field Reference</a></p></li>
<li><p><a class="reference internal" href="#creating-an-rrset" id="id13">Creating an RRset</a></p></li>
<li><p><a class="reference internal" href="#retrieving-all-rrsets-in-a-zone" id="id14">Retrieving all RRsets in a Zone</a></p>
<ul>
<li><p><a class="reference internal" href="#filtering-by-record-type" id="id15">Filtering by Record Type</a></p></li>
<li><p><a class="reference internal" href="#filtering-by-subname" id="id16">Filtering by Subname</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#retrieving-a-specific-rrset" id="id17">Retrieving a Specific RRset</a></p></li>
<li><p><a class="reference internal" href="#modifying-an-rrset" id="id18">Modifying an RRset</a></p></li>
<li><p><a class="reference internal" href="#deleting-an-rrset" id="id19">Deleting an RRset</a></p></li>
<li><p><a class="reference internal" href="#general-notes" id="id20">General Notes</a></p></li>
<li><p><a class="reference internal" href="#notes-on-certain-record-types" id="id21">Notes on Certain Record Types</a></p>
<ul>
<li><p><a class="reference internal" href="#restricted-types" id="id22">Restricted Types</a></p></li>
<li><p><a class="reference internal" href="#caveats" id="id23">Caveats</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#endpoint-reference" id="id24">Endpoint Reference</a></p></li>
<li><p><a class="reference internal" href="#getting-help" id="id25">Getting Help</a></p></li>
<li><p><a class="reference internal" href="#about-this-document" id="id26">About this document</a></p></li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id2">Introduction</a></h1>
<p>The deSEC DNS API is a REST interface that allows easy management of DNS
information. The interface design aims for simplicity so that tasks such as
creating domains and manipulating DNS records can be handled with ease and in
an intuitive fashion.</p>
<p>We recommend using <a class="reference external" href="https://httpie.org/">HTTPie</a> for communication with the API, but <span class="docutils literal">curl</span> or
any other decent HTTP client will work as well.</p>
</div>
<div class="section" id="user-registration-and-management">
<h1><a class="toc-backref" href="#id3">User Registration and Management</a></h1>
<p>User management is handled via Django's djoser library.  For usage, please
check the <a class="reference external" href="https://djoser.readthedocs.io/en/latest/endpoints.html">djoser endpoint documentation</a>.</p>
<p>Most operations require authentication of the domain owner using a token that
is returned by djoser's <span class="docutils literal">login/</span> endpoint.  To authenticate, this token is
transmitted via the HTTP <span class="docutils literal">Authorization</span> header, as shown in the examples in
this document.</p>
</div>
<div class="section" id="domain-management">
<h1><a class="toc-backref" href="#id4">Domain Management</a></h1>
<p>Domain management is done through the <span class="docutils literal">/api/v1/domains/</span> endpoint.  The
following sections describe how to create, list, modify, and delete domains
using JSON objects.  The structure of the JSON objects is detailed in the next
section.</p>
<div class="section" id="domain-field-reference">
<span id="domain-object"></span><h2><a class="toc-backref" href="#id5">Domain Field Reference</a></h2>
<p>A JSON object representing a domain has the following structure:</p>
<pre class="literal-block">{
    &quot;name&quot;: &quot;example.com&quot;,
    &quot;owner&quot;: &quot;admin&#64;example.com&quot;,
    &quot;keys&quot;: [
        {
            &quot;dnskey&quot;: &quot;257 3 13 WFRl60...&quot;,
            &quot;ds&quot;: [
                &quot;6006 13 1 8581e9...&quot;,
                &quot;6006 13 2 f34b75...&quot;,
                &quot;6006 13 3 dfb325...&quot;,
                &quot;6006 13 4 2fdcf8...&quot;
            ],
            &quot;flags&quot;: 257,
            &quot;keytype&quot;: &quot;csk&quot;
        },
        ...
    ],
    &quot;arecord&quot;: &quot;192.0.2.1&quot;,             # or null
    &quot;aaaarecord&quot;: &quot;2001:db8::deec:1&quot;,   # or null
    &quot;acme_challenge&quot;: &quot;&quot;
}</pre>
<p>Field details:</p>
<dl>
<dt><span class="docutils literal">aaaarecord</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write</p>
</dd>
<dt>Notice</dt>
<dd><p>this field is deprecated</p>
</dd>
</dl>
<p>String with an IPv6 address that will be written to the <span class="docutils literal">AAAA</span> RRset of
the zone apex, or <span class="docutils literal">null</span>.  If <span class="docutils literal">null</span>, the RRset is removed.</p>
<p>This was originally introduced to set an IPv6 address for deSEC's dynamic
DNS service dedyn.io.  However, it has some drawbacks (redundancy with
<a class="reference internal" href="#modifying-an-rrset">Modifying an RRset</a> as well as inability to set multiple addresses).</p>
<p><em>Do not rely on this field; it may be removed in the future.</em></p>
</dd>
<dt><span class="docutils literal">acme_challenge</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write</p>
</dd>
<dt>Notice</dt>
<dd><p>this field is deprecated</p>
</dd>
</dl>
<p>String to be written to the <span class="docutils literal">TXT</span> RRset of <span class="docutils literal"><span class="pre">_acme-challenge.{name}</span></span>.
To set an empty challenge, use <span class="docutils literal">&quot;&quot;</span>.  The maximum length is 255.</p>
<p>This was originally introduced to set an ACME challenge to allow obtaining
certificates from Let's Encrypt using deSEC's dynamic DNS service
dedyn.io.  However, it is redundant with <a class="reference internal" href="#modifying-an-rrset">Modifying an RRset</a>.</p>
<p><em>Do not rely on this field; it may be removed in the future.</em></p>
</dd>
<dt><span class="docutils literal">arecord</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write</p>
</dd>
<dt>Notice</dt>
<dd><p>this field is deprecated</p>
</dd>
</dl>
<p>String with an IPv4 address that will be written to the <span class="docutils literal">A</span> RRset of the
zone apex, or <span class="docutils literal">null</span>.  If <span class="docutils literal">null</span>, the RRset is removed.</p>
<p>This was originally introduced to set an IPv4 address for deSEC's dynamic
DNS service dedyn.io.  However, it has some drawbacks (redundancy with
<a class="reference internal" href="#modifying-an-rrset">Modifying an RRset</a> as well as inability to set multiple addresses).</p>
<p><em>Do not rely on this field; it may be removed in the future.</em></p>
</dd>
<dt><span class="docutils literal">keys</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read-only</p>
</dd>
</dl>
<p>Array with DNSSEC key information.  Each entry contains <span class="docutils literal">DNSKEY</span> and
<span class="docutils literal">DS</span> record contents (the latter being computed from the former), and
some extra information.  For delegation of DNSSEC-secured domains, the
domain registry needs to publish these <span class="docutils literal">DS</span> records.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>Newly created domains are assigned a key after a short while (usually
around one minute).  Until then, this field is empty.</p></li>
<li><p>The contents of this field are generated from PowerDNS' <span class="docutils literal">cryptokeys</span>
endpoint, see <a class="reference external" href="https://doc.powerdns.com/md/httpapi/api_spec/#cryptokeys">https://doc.powerdns.com/md/httpapi/api_spec/#cryptokeys</a>.
We look at each active <span class="docutils literal">cryptokey_resource</span> (<span class="docutils literal">active</span> is true) and
then use the <span class="docutils literal">dnskey</span>, <span class="docutils literal">ds</span>, <span class="docutils literal">flags</span>, and <span class="docutils literal">keytype</span> fields.</p></li>
</ul>
</dd>
<dt><span class="docutils literal">name</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write-once (upon domain creation)</p>
</dd>
</dl>
<p>Domain name.  Restrictions on what is a valid domain name apply on a
per-user basis.  In general, a domain name consists of alphanumeric
characters as well as hyphens <span class="docutils literal">-</span> and underscores <span class="docutils literal">_</span> (except at the
beginning of the name).  The maximum length is 191.</p>
</dd>
<dt><span class="docutils literal">owner</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read-only</p>
</dd>
</dl>
<p>Email address of the user owning the domain.</p>
</dd>
</dl>
</div>
<div class="section" id="creating-a-domain">
<h2><a class="toc-backref" href="#id6">Creating a Domain</a></h2>
<p>To create a new domain, issue a <span class="docutils literal">POST</span> request to the <span class="docutils literal">/api/v1/domains/</span>
endpoint, like this:</p>
<pre class="literal-block">http POST \
    https://desec.io/api/v1/domains/ \
    Authorization:&quot;Token {token}&quot; \
    name:='&quot;example.com&quot;'</pre>
<p>Only the <span class="docutils literal">name</span> field is mandatory; <span class="docutils literal">arecord</span>, <span class="docutils literal">acme_challenge</span>, and
<span class="docutils literal">aaaarecord</span> are optional and deprecated.</p>
<p>Upon success, the response status code will be <span class="docutils literal">201 Created</span>, with the
domain object contained in the response body.  <span class="docutils literal">400 Bad Request</span> is returned
if the request contained malformed data such as syntactically invalid field
contents for <span class="docutils literal">arecord</span> or <span class="docutils literal">aaaarecord</span>.  If the object could not be
created although the request was wellformed, the API responds with <span class="docutils literal">403 Forbidden</span> if the maximum number of domains for this user has been reached,
and with <span class="docutils literal">409 Conflict</span> otherwise.  This can happen, for example, if there
already is a domain with the same name or if the domain name is considered
invalid for policy reasons.</p>
<p>Restrictions on what is a valid domain name apply on a per-user basis.  The
response body <em>may</em> provide further, human-readable information on the policy
violation that occurred.</p>
</div>
<div class="section" id="listing-domains">
<h2><a class="toc-backref" href="#id7">Listing Domains</a></h2>
<p>The <span class="docutils literal">/api/v1/domains/</span> endpoint reponds to <span class="docutils literal">GET</span> requests with an array of
<a class="reference internal" href="#domain-object">domain object</a>s. For example, you may issue the following command:</p>
<pre class="literal-block">http GET \
    https://desec.io/api/v1/domains/ \
    Authorization:&quot;Token {token}&quot;</pre>
<p>to retrieve an overview of the domains you own.</p>
<p>The response status code is <span class="docutils literal">200 OK</span>.  This is true also if you do not own
any domains; in this case, the response body will be an empty JSON array.</p>
</div>
<div class="section" id="retrieving-a-specific-domain">
<h2><a class="toc-backref" href="#id8">Retrieving a Specific Domain</a></h2>
<p>To retrieve a domain with a specific name, issue a <span class="docutils literal">GET</span> request with the
<span class="docutils literal">name</span> appended to the <span class="docutils literal">domains/</span> endpoint, like this:</p>
<pre class="literal-block">http GET \
    https://desec.io/api/v1/domains/{name}/ \
    Authorization:&quot;Token {token}&quot;</pre>
<p>This will return only one domain (i.e., the response is not a JSON array).</p>
<p>If you own a domain with that name, the API responds with <span class="docutils literal">200 OK</span> and
returns the domain object in the reponse body.  Otherwise, the return status
code is <span class="docutils literal">404 Not Found</span>.</p>
</div>
<div class="section" id="modifying-a-domain-deprecated">
<h2><a class="toc-backref" href="#id9">Modifying a Domain (deprecated)</a></h2>
<p>To modify a domain, use the endpoint that you would also use to retrieve that
specific domain.  The API allows changing the values of the <span class="docutils literal">arecord</span>,
<span class="docutils literal">acme_challenge</span>, and <span class="docutils literal">aaaarecord</span> fields using the <span class="docutils literal">PATCH</span> method.
Only the field(s) provided in the request will be modified, with everything
else untouched.  Examples:</p>
<pre class="literal-block"># Set AAAA record
http PATCH \
    https://desec.io/api/v1/domains/{name}/ \
    Authorization:&quot;Token {token}&quot; \
    aaaarecord:='&quot;2001:db8::deec:1&quot;'

# Remove A record and set empty ACME challenge
http PATCH \
    https://desec.io/api/v1/domains/{name}/ \
    Authorization:&quot;Token {token}&quot; \
    acme_challenge:='&quot;&quot;' arecord:='null'</pre>
<p>If the domain was updated successfully, the response status code is <span class="docutils literal">200 OK</span>
and the updated domain object is returned in the response body.  In case of
malformed request data such as syntactically invalid field contents for
<span class="docutils literal">arecord</span> or <span class="docutils literal">aaaarecord</span>, <span class="docutils literal">400 Bad Request</span> is returned.  If the domain
does not exist or you don't own it, the status code is <span class="docutils literal">404 Not Found</span>.</p>
</div>
<div class="section" id="deleting-a-domain">
<h2><a class="toc-backref" href="#id10">Deleting a Domain</a></h2>
<p>To delete a domain, send a <span class="docutils literal">DELETE</span> request to the endpoint representing the
domain.  Upon success or if the domain did not exist or was not yours in the
first place, the response status code is <span class="docutils literal">204 No Content</span>.</p>
</div>
</div>
<div class="section" id="retrieving-and-manipulating-dns-information">
<h1><a class="toc-backref" href="#id11">Retrieving and Manipulating DNS Information</a></h1>
<p>All DNS information is composed of so-called <em>Resource Record Sets</em>
(<em>RRsets</em>).  An RRset is the set of all Resource Records of a given record
type for a given name.  For example, the name <span class="docutils literal">example.com</span> may have an
RRset of type <span class="docutils literal">A</span>, denoting the set of IPv4 addresses associatd with this
name.  In the traditional Bind zone file format, the RRset would be written
as:</p>
<pre class="literal-block">&lt;name&gt;  IN  A 127.0.0.1
&lt;name&gt;  IN  A 127.0.0.2
...</pre>
<p>Each of these lines is a Resource Record, and together they form an RRset.</p>
<p>The basic units accessible through the API are RRsets, each represented by a
JSON object.  The object structure is detailed in the next section.</p>
<p>The relevant endpoints all reside under <span class="docutils literal"><span class="pre">/api/v1/domains/{domain}/rrsets/</span></span>,
where <span class="docutils literal">{domain}</span> is the name of a domain you own.  When operating on domains
that don't exist or you don't own, the API responds with a <span class="docutils literal">404 Not Found</span>
status code.  For a quick overview of the available endpoints, methods, and
operations, see <a class="reference internal" href="#endpoint-reference">Endpoint Reference</a>.</p>
<div class="section" id="rrset-field-reference">
<span id="rrset-object"></span><h2><a class="toc-backref" href="#id12">RRset Field Reference</a></h2>
<p>A JSON object representing an RRset has the following structure:</p>
<pre class="literal-block">{
    &quot;domain&quot;: &quot;example.com&quot;,
    &quot;subname&quot;: &quot;www&quot;,
    &quot;name&quot;: &quot;www.example.com.&quot;,
    &quot;type&quot;: &quot;A&quot;,
    &quot;records&quot;: [
        &quot;127.0.0.1&quot;,
        &quot;127.0.0.2&quot;
    ],
    &quot;ttl&quot;: 3600
}</pre>
<p>Field details:</p>
<dl>
<dt><span class="docutils literal">domain</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read-only</p>
</dd>
</dl>
<p>Name of the zone to which the RRset belongs.</p>
<p>Note that the zone name does not follow immediately from the RRset name.
For example, the <span class="docutils literal">com</span> zone contains an RRset of type <span class="docutils literal">NS</span> for the
name <span class="docutils literal">example.com.</span>, in order to set up the delegation to
<span class="docutils literal">example.com</span>'s DNS operator.  The DNS operator's nameserver again
has a similar <span class="docutils literal">NS</span> RRset which, this time however, belongs to the
<span class="docutils literal">example.com</span> zone.</p>
</dd>
<dt><span class="docutils literal">name</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read-only</p>
</dd>
</dl>
<p>The full DNS name of the RRset.  If <span class="docutils literal">subname</span> is empty, this is equal to
<span class="docutils literal">{domain}.</span>, otherwise it is equal to <span class="docutils literal"><span class="pre">{subname}.{domain}.</span></span>.</p>
</dd>
<dt><span class="docutils literal">records</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write</p>
</dd>
</dl>
<p>Array of record content strings.  The maximum number of array elements is
4091, and the maximum length of the array is 64,000 (after JSON encoding).
Note the <a class="reference internal" href="#caveat-on-the-priority-field">caveat on the priority field</a>.</p>
</dd>
<dt><span class="docutils literal">subname</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write-once (upon RRset creation)</p>
</dd>
</dl>
<p>Subdomain string which, together with <span class="docutils literal">domain</span>, defines the RRset name.
Typical examples are <span class="docutils literal">www</span> or <span class="docutils literal">_443._tcp</span>.  In general, a subname
consists of alphanumeric characters as well as hyphens <span class="docutils literal">-</span>, underscores
<span class="docutils literal">_</span>, dots <span class="docutils literal">.</span>, and slashes <span class="docutils literal">/</span>.  Wildcard name components are
denoted by <span class="docutils literal">*</span>; this is allowed only once at the beginning of the name
(see RFC 4592 for details).  The maximum length is 178.  Further
restrictions may apply on a per-user basis.</p>
<p>If a <span class="docutils literal">subname</span> contains slashes <span class="docutils literal">/</span> and you are using it in the URL
path (e.g. when <a class="reference internal" href="#retrieving-a-specific-rrset">retrieving a specific RRset</a>), it is required to escape
them by replacing them with <span class="docutils literal">=2F</span>, to resolve the ambiguity that
otherwise arises.  (This escape mechanism does not apply to query strings
or inside JSON documents.)</p>
</dd>
<dt><span class="docutils literal">ttl</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write</p>
</dd>
</dl>
<p>TTL (time-to-live) value, which dictates for how long resolvers may cache
this RRset, measured in seconds.  Only positive integer values are allowed.
Additional restrictions may apply.</p>
</dd>
<dt><span class="docutils literal">type</span></dt>
<dd><dl class="field-list simple">
<dt>Access mode</dt>
<dd><p>read, write-once (upon RRset creation)</p>
</dd>
</dl>
<p>RRset type (uppercase).  We support all <a class="reference external" href="https://doc.powerdns.com/md/types/">RRset types supported by
PowerDNS</a>, with the exception of DNSSEC-related types (the backend
automagically takes care of setting those records properly).  You also
cannot access the <span class="docutils literal">SOA</span>, see <a class="reference internal" href="#soa-caveat">SOA caveat</a>.</p>
</dd>
</dl>
</div>
<div class="section" id="creating-an-rrset">
<h2><a class="toc-backref" href="#id13">Creating an RRset</a></h2>
<p>To create a new RRset, simply issue a <span class="docutils literal">POST</span> request to the
<span class="docutils literal"><span class="pre">/api/v1/domains/{domain}/rrsets/</span></span> endpoint, like this:</p>
<pre class="literal-block">http POST \
    https://desec.io/api/v1/domains/{domain}/rrsets/ \
    Authorization:&quot;Token {token}&quot; \
    subname:='&quot;www&quot;' type:='&quot;A&quot;' records:='[&quot;127.0.0.1&quot;,&quot;127.0.0.2&quot;]' ttl:=3600</pre>
<p><span class="docutils literal">type</span>, <span class="docutils literal">records</span>, and <span class="docutils literal">ttl</span> are mandatory, whereas the <span class="docutils literal">subname</span>
field is optional.</p>
<p>Upon success, the response status code will be <span class="docutils literal">201 Created</span>, with the RRset
contained in the response body.  If the <span class="docutils literal">records</span> value was semantically
invalid or an invalid <span class="docutils literal">type</span> was provided, <span class="docutils literal">422 Unprocessable Entity</span> is
returned.  If the RRset could not be created for another reason (for example
because another RRset with the same name and type exists already, or because
not all required fields were provided), the API responds with <span class="docutils literal">400 Bad Request</span>.</p>
<p>Note that the values of <span class="docutils literal">type</span> and <span class="docutils literal">subname</span> as well as the <span class="docutils literal">records</span>
items are strings, and as such the JSON specification requires them to be
enclosed in double quotes (with the quotes being part of the field value);
your shell or programming language may require another layer of quotes!  By
contrast, <span class="docutils literal">ttl</span> is an integer field, so the JSON value does not contain
quotes.</p>
</div>
<div class="section" id="retrieving-all-rrsets-in-a-zone">
<h2><a class="toc-backref" href="#id14">Retrieving all RRsets in a Zone</a></h2>
<p>The <span class="docutils literal"><span class="pre">/api/v1/domains/{domain}/rrsets/</span></span> endpoint reponds to <span class="docutils literal">GET</span> requests
with an array of <a class="reference internal" href="#rrset-object">RRset object</a>s. For example, you may issue the following
command:</p>
<pre class="literal-block">http GET \
    https://desec.io/api/v1/domains/{domain}/rrsets/ \
    Authorization:&quot;Token {token}&quot;</pre>
<p>to retrieve the contents of a zone that you own.</p>
<p>The response status code is <span class="docutils literal">200 OK</span>.  This is true also if there are no
RRsets in the zone; in this case, the response body will be an empty JSON
array.</p>
<div class="section" id="filtering-by-record-type">
<h3><a class="toc-backref" href="#id15">Filtering by Record Type</a></h3>
<p>To retrieve an array of all RRsets from your zone that have a specific type
(e.g. all <span class="docutils literal">A</span> records, regardless of <span class="docutils literal">subname</span>), augment the previous
<span class="docutils literal">GET</span> request with a <span class="docutils literal">type</span> query parameter carrying the desired RRset type
like:</p>
<pre class="literal-block">http GET \
    https://desec.io/api/v1/domains/{domain}/rrsets/?type={type} \
    Authorization:&quot;Token {token}&quot;</pre>
</div>
<div class="section" id="filtering-by-subname">
<h3><a class="toc-backref" href="#id16">Filtering by Subname</a></h3>
<p>To filter the RRsets array by subname (e.g. to retrieve all records in the
<span class="docutils literal">www</span> subdomain, regardless of their type), use the <span class="docutils literal">subname</span> query
parameter, like this:</p>
<pre class="literal-block">http GET \
    https://desec.io/api/v1/domains/{domain}/rrsets/?subname={subname} \
    Authorization:&quot;Token {token}&quot;</pre>
<p>This approach also allows to retrieve all records associated with the zone
apex (i.e. <span class="docutils literal">example.com</span> where <span class="docutils literal">subname</span> is empty), by querying
<span class="docutils literal"><span class="pre">rrsets/?subname=</span></span>.</p>
</div>
</div>
<div class="section" id="retrieving-a-specific-rrset">
<h2><a class="toc-backref" href="#id17">Retrieving a Specific RRset</a></h2>
<p>To retrieve an RRset with a specific name and type from your zone (e.g. the
<span class="docutils literal">A</span> record for the <span class="docutils literal">www</span> subdomain), issue a <span class="docutils literal">GET</span> request with the
<span class="docutils literal">subname</span> information and the type appended to the <span class="docutils literal">rrsets/</span> endpoint,
like this:</p>
<pre class="literal-block">http GET \
    https://desec.io/api/v1/domains/{domain}/rrsets/{subname}.../{type}/ \
    Authorization:&quot;Token {token}&quot;</pre>
<p>This will return only one RRset (i.e., the response is not a JSON array).  The
response status code is <span class="docutils literal">200 OK</span> if the requested RRset exists, and <span class="docutils literal">404 Not Found</span> otherwise.</p>
<p>Note the three dots after <span class="docutils literal">{subname}</span>.  You can think of them as abbreviating
the rest of the DNS name.  To retrieve all records associated with the zone
apex (i.e. <span class="docutils literal">example.com</span> where <span class="docutils literal">subname</span> is empty), simply use
<span class="docutils literal"><span class="pre">rrsets/.../</span></span>.</p>
</div>
<div class="section" id="modifying-an-rrset">
<h2><a class="toc-backref" href="#id18">Modifying an RRset</a></h2>
<p>To modify an RRset, use the endpoint that you would also use to retrieve that
specific RRset.  The API allows changing the values of <span class="docutils literal">records</span> and
<span class="docutils literal">ttl</span>.  When using the <span class="docutils literal">PATCH</span> method, only fields you would like to modify
need to be provided, where the <span class="docutils literal">PUT</span> method requires specification of both
fields.  Examples:</p>
<pre class="literal-block">http PUT \
    https://desec.io/api/v1/domains/{domain}/rrsets/{subname}.../{type}/ \
    Authorization:&quot;Token {token}&quot; records:='[&quot;127.0.0.1&quot;]' ttl:=3600

http PATCH \
    https://desec.io/api/v1/domains/{domain}/rrsets/{subname}.../{type}/ \
    Authorization:&quot;Token {token}&quot; ttl:=86400</pre>
<p>If the RRset was updated successfully, the API returns <span class="docutils literal">200 OK</span> with the
updated RRset in the reponse body.  If not all required fields were provided,
the API responds with <span class="docutils literal">400 Bad Request</span>.  If the <span class="docutils literal">records</span> value was
semantically invalid, <span class="docutils literal">422 Unprocessable Entity</span> is returned.  If the RRset
does not exist, <span class="docutils literal">404 Not Found</span> is returned.</p>
</div>
<div class="section" id="deleting-an-rrset">
<h2><a class="toc-backref" href="#id19">Deleting an RRset</a></h2>
<p>To delete an RRset, you can send a <span class="docutils literal">DELETE</span> request to the endpoint
representing the RRset. Alternatively, you can modify it and provide an empty
array for the <span class="docutils literal">records</span> field (<span class="docutils literal">[]</span>).</p>
<p>Upon success or if the RRset did not exist in the first place, the response
status code is <span class="docutils literal">204 No Content</span>.</p>
</div>
<div class="section" id="general-notes">
<h2><a class="toc-backref" href="#id20">General Notes</a></h2>
<ul class="simple">
<li><p>All operations are performed on RRsets, not on the individual Resource
Records.</p></li>
<li><p>The TTL (time-to-live: time for which resolvers may cache DNS information)
is a property of an RRset (and not of a record).  Thus, all records in an
RRset share the record type and also the TTL.  (This is actually a
requirement of the DNS specification and not an API design choice.)</p></li>
<li><p>We have not done extensive testing for reverse DNS, but things should work in
principle.  If you encounter any problems, please let us know.</p></li>
</ul>
</div>
<div class="section" id="notes-on-certain-record-types">
<h2><a class="toc-backref" href="#id21">Notes on Certain Record Types</a></h2>
<p>Generally, the API supports all <a class="reference external" href="https://doc.powerdns.com/md/types/">RRset types supported by PowerDNS</a>, with a
few exceptions for such record types that the backend manages automatically.
Thus, these restrictions are not limitations from a practical point of view.
Furthermore, special care needs to be taken with some types of records, as
explained below.</p>
<div class="section" id="restricted-types">
<h3><a class="toc-backref" href="#id22">Restricted Types</a></h3>
<p><strong>Note:</strong>  Some record types are supported by the API, but not currently
served by our nameservers (such as <span class="docutils literal">ALIAS</span> or <span class="docutils literal">DNAME</span>).  If you wish to
use such record types, shoot us an email.  In most cases, it should not be a
problem to enable such functionality.</p>
<dl class="simple">
<dt><span class="docutils literal">DNSKEY</span>, <span class="docutils literal">NSEC3PARAM</span>, <span class="docutils literal">RRSIG</span></dt>
<dd><p>These record types are meant to provide DNSSEC-related information in
order to secure the data stored in your zones.  RRsets of this type are
generated and served automatically by our nameservers.  However, you can
neither read nor manipulate these RRsets through the API.  When attempting
such operations, <span class="docutils literal">403 Forbidden</span> or <span class="docutils literal">400 Bad Request</span> is returned,
respectively.</p>
</dd>
</dl>
<dl id="soa-caveat">
<dt><span class="docutils literal">SOA</span> record</dt>
<dd><p>The <span class="docutils literal">SOA</span> record cannot be read or written through this interface.  When
attempting to create, modify or otherwise access an <span class="docutils literal">SOA</span> record, <span class="docutils literal">400 Bad Request</span> or <span class="docutils literal">403 Forbidden</span> is returned, respectively.</p>
<p>The rationale behind this is that the content of the <span class="docutils literal">SOA</span> record is
entirely determined by the DNS operator, and users should not have to bother
with this kind of metadata.  Upon zone changes, the backend automatically
takes care of updating the <span class="docutils literal">SOA</span> record accordingly.</p>
<p>If you are interested in the value of the <span class="docutils literal">SOA</span> record, you can retrieve
it using a standard DNS query.</p>
</dd>
</dl>
</div>
<div class="section" id="caveats">
<h3><a class="toc-backref" href="#id23">Caveats</a></h3>
<dl id="caveat-on-the-priority-field">
<dt>Record types with priority field</dt>
<dd><p>The deSEC DNS API does not explicitly support priority fields (as used for
<span class="docutils literal">MX</span> or <span class="docutils literal">SRV</span> records and the like).</p>
<p>Instead, the priority is expected to be specified at the beginning of the
record content, separated from the rest of it by a space.</p>
</dd>
<dt><span class="docutils literal">CNAME</span> record</dt>
<dd><ul>
<li><p>The record value must be terminated by a dot <span class="docutils literal">.</span> (as in
<span class="docutils literal">example.com.</span>).</p></li>
<li><p>If you create a <span class="docutils literal">CNAME</span> record, its presence will cause other RRsets of
the same name to be hidden (&quot;occluded&quot;) from the public (i.e. in
responses to DNS queries).  This is per RFC 1912.</p>
<p>However, as far as the API is concerned, you can still retrieve and
manipulate those additional RRsets.  In other words, <span class="docutils literal">CNAME</span>-induced
hiding of additional RRsets does not apply when looking at the zone
through the API.</p>
</li>
<li><p>It is currently possible to create a <span class="docutils literal">CNAME</span> RRset with several
records.  However, this is not legal, and the response to queries for
such RRsets is undefined.  In short, don't do it.</p></li>
<li><p>Similarly, you are discouraged from creating a <span class="docutils literal">CNAME</span> RRset for the
zone apex (main domain name, empty <span class="docutils literal">subname</span>).  Doing so will most
likely break your domain (for example, any <span class="docutils literal">NS</span> records that are
present will disappear from DNS responses), and other undefined behavior
may occur.  In short, don't do it.  If you are interested in aliasing
the zone apex, consider using an <span class="docutils literal">ALIAS</span> RRset.</p></li>
</ul>
</dd>
<dt><span class="docutils literal">MX</span> record</dt>
<dd><p>The <span class="docutils literal">MX</span> record value consists of the priority value and a mail server
name, which must be terminated by a dot <span class="docutils literal">.</span>.  Example: <span class="docutils literal">10 mail.a4a.de.</span></p>
</dd>
<dt><span class="docutils literal">NS</span> record</dt>
<dd><p>The use of wildcard RRsets (with one component of <span class="docutils literal">subname</span> being equal
to <span class="docutils literal">*</span>) of type <span class="docutils literal">NS</span> is <strong>discouraged</strong>.  This is because the behavior
of wildcard <span class="docutils literal">NS</span> records in conjunction with DNSSEC is undefined, per
RFC 4592, Sec. 4.2.</p>
</dd>
<dt><span class="docutils literal">TXT</span> record</dt>
<dd><p>The contents of the <span class="docutils literal">TXT</span> record must be enclosed in double quotes.
Thus, when <span class="docutils literal">POST</span>ing to the API, make sure to do proper escaping etc.
as required by the client you are using.  Here's an example of how to
create a <span class="docutils literal">TXT</span> RRset with HTTPie:</p>
<pre class="literal-block">http POST \
    https://desec.io/api/v1/domains/{domain}/rrsets/ \
    Authorization:&quot;Token {token}&quot; \
    type:='&quot;TXT&quot;' records:='[&quot;\&quot;test value1\&quot;&quot;,&quot;\&quot;value2\&quot;&quot;]' ttl:=3600</pre>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="endpoint-reference">
<h1><a class="toc-backref" href="#id24">Endpoint Reference</a></h1>
<p>Endpoints related to <a class="reference internal" href="#user-registration-and-management">User Registration and Management</a> are described in the
<a class="reference external" href="https://djoser.readthedocs.io/en/latest/endpoints.html">djoser endpoint documentation</a>.  The following table summarizes basic
information about the deSEC API endpoints used for <a class="reference internal" href="#domain-management">Domain Management</a> and
<a class="reference internal" href="#retrieving-and-manipulating-dns-information">Retrieving and Manipulating DNS Information</a>.</p>
<table>
<colgroup>
<col style="width: 46%" />
<col style="width: 11%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr><th class="head"><p>Endpoint <span class="docutils literal">/api/v1/domains</span>...</p></th>
<th class="head"><p>Methods</p></th>
<th class="head"><p>Use case</p></th>
</tr>
</thead>
<tbody>
<tr><td rowspan="2"><p>...<span class="docutils literal">/</span></p></td>
<td><p><span class="docutils literal">GET</span></p></td>
<td><p>Retrieve all domains you own</p></td>
</tr>
<tr><td><p><span class="docutils literal">POST</span></p></td>
<td><p>Create a domain</p></td>
</tr>
<tr><td rowspan="3"><p>...<span class="docutils literal">/{domain}/</span></p></td>
<td><p><span class="docutils literal">GET</span></p></td>
<td><p>Retrieve a specific domain</p></td>
</tr>
<tr><td><p><span class="docutils literal">PATCH</span></p></td>
<td><p>Modify a domain (deprecated)</p></td>
</tr>
<tr><td><p><span class="docutils literal">DELETE</span></p></td>
<td><p>Delete a domain</p></td>
</tr>
<tr><td rowspan="2"><p>...<span class="docutils literal"><span class="pre">/{domain}/rrsets/</span></span></p></td>
<td><p><span class="docutils literal">GET</span></p></td>
<td><p>Retrieve all RRsets from <span class="docutils literal">domain</span>, filter
by <span class="docutils literal">subname</span> or <span class="docutils literal">type</span> query parameter</p></td>
</tr>
<tr><td><p><span class="docutils literal">POST</span></p></td>
<td><p>Create an RRset</p></td>
</tr>
<tr><td rowspan="4"><p>...<span class="docutils literal"><span class="pre">/{domain}/rrsets/{subname}.../{type}/</span></span></p></td>
<td><p><span class="docutils literal">GET</span></p></td>
<td><p>Retrieve a specific RRset</p></td>
</tr>
<tr><td><p><span class="docutils literal">PATCH</span></p></td>
<td><p>Modify an RRset</p></td>
</tr>
<tr><td><p><span class="docutils literal">PUT</span></p></td>
<td><p>Replace an RRset</p></td>
</tr>
<tr><td><p><span class="docutils literal">DELETE</span></p></td>
<td><p>Delete an RRset</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="getting-help">
<h1><a class="toc-backref" href="#id25">Getting Help</a></h1>
<p>If you need help beyond this documentation, please do not hesitate and
shoot us an email at <a class="reference external" href="mailto:support&#64;desec.io">support&#64;desec.io</a>.</p>
</div>
<div class="section" id="about-this-document">
<h1><a class="toc-backref" href="#id26">About this document</a></h1>
<p>To add to our documentation or fix a mistake, please submit a Pull Request
at <a class="reference external" href="https://github.com/desec-io/desec-stack">https://github.com/desec-io/desec-stack</a>.</p>
</div>
</div>
<div class="footer">
<hr class="footer" />
<p>Generated on: 2017-08-29.
</p>

</div>
</body>
</html>
